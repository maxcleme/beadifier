<mat-tab-group dynamicHeight>
  <mat-tab label="Configuration">
    <div class="example-small-box mat-elevation-z4">
      <form (submit)="preventSubmit($event)">
        <div style="padding-top:1em;" fxLayout="row" fxLayoutAlign="space-between wrap">
          <div fxLayout="column" fxLayoutGap="1em" fxFlex.xs="100%" fxFlex.sm="100%" fxFlex.md="30%" fxFlex.lg="30%"
            fxFlex.xl="30%">
            <div>
              <upload-image-button (onLoad)="onLoadingImageCallback($event)"></upload-image-button>
            </div>
            <div fxLayout="row" fxLayoutAlign="start start">
              <mat-form-field>
                <mat-select multiple aria-label="palettes" placeholder="Palettes" [(ngModel)]="project.palettes"
                  name="palettes" (selectionChange)="callback()" [compareWith]="paletteEquality">
                  <mat-option *ngFor="let palette of availablePalettes | async" [value]="palette">
                    {{palette.name}}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <div>
              <mat-form-field>
                <mat-select aria-label="board" placeholder="Board type" [(ngModel)]="project.board" name="board"
                  (selectionChange)="callback()">
                  <mat-option *ngFor="let board of availableBoards" [value]="board">
                    {{board.name}} ({{board.nbBeadPerRow}}x{{board.nbBeadPerRow}})
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <div>
              <board-size [project]="project" (onBoardSizeChange)="callback()"></board-size>
            </div>
          </div>
          <div fxLayout="column" fxLayoutGap="1em" fxFlex.xs="100%" fxFlex.sm="100%" fxFlex.md="70%" fxFlex.lg="70%"
            fxFlex.xl="70%">
            <div fxLayout="row wrap">
              <mat-slide-toggle [checked]="enableAllPaletteEntry" (change)="toggleAll($event)">All</mat-slide-toggle>
            </div>

            <div fxLayout="row wrap" *ngFor="let palette of project.palettes">
              <div fxFlex.xs="100%" fxFlex.sm="50%" fxFlex.md="33%" fxFlex.lg="25%" fxFlex.xl="20%"
                fxLayoutAlign="start center" *ngFor="let entry of palette.entries">
                <palette-entry [entry]="entry" (onToggleCallback)="callback()"></palette-entry>
              </div>
              <mat-divider style="margin-top: 1em;" [inset]="true"></mat-divider>
            </div>
            <div fxLayout="row wrap" fxLayoutAlign="center center">
              <div class="mat-small mat-caption">Something wrong about colors ? Please fill an <a
                  href="https://github.com/maxcleme/beadcolors/issues/new" target="blank">issue</a>.</div>
            </div>
          </div>
        </div>
      </form>

    </div>
  </mat-tab>
  <mat-tab label="Advanced">
    <div class="example-large-box mat-elevation-z4">
      <form (submit)="preventSubmit($event)">
        <div style="padding-top:1em;" fxLayout="row" fxLayoutAlign="space-between start">
          <div fxFlex="33%">
            <div fxLayout="column" fxLayoutGap="1em" fxLayoutAlign="start">
              <div class="mat-subheading-2">Image</div>
              <div flexLayout="row" fxLayoutGap="1em" fxLayoutAlign="start center">
                <span fxFlex="20%" class="mat-small">Brightness</span>
                <mat-slider (change)="setBrightness($event)" min="0" max="200" step="1" [(value)]="brightness"></mat-slider>
                <button class="mat-icon-button" (click)="resetBrightness()"><mat-icon>loop</mat-icon></button>
            </div>
            <div flexLayout="row" fxLayoutGap="1em" fxLayoutAlign="start center">
                <span fxFlex="20%" class="mat-small">Contrast</span>
                <mat-slider (change)="setContrast($event)" min="0" max="200" step="1" [(value)]="contrast"></mat-slider>
                <button class="mat-icon-button" (click)="resetContrast()"><mat-icon>loop</mat-icon></button>
            </div>
            <div flexLayout="row" fxLayoutGap="1em" fxLayoutAlign="start center">
                <span fxFlex="20%" class="mat-small">Saturation</span>
                <mat-slider (change)="setSaturation($event)" min="0" max="200" step="1" [(value)]="saturation"></mat-slider>
                <button class="mat-icon-button" (click)="resetSaturation()"><mat-icon>loop</mat-icon></button>
            </div>
            <div flexLayout="row" fxLayoutGap="1em" fxLayoutAlign="start center">
                <span fxFlex="20%" class="mat-small">Grayscale</span>
                <mat-slider (change)="setGrayscale($event)" min="0" max="100" step="1" [(value)]="grayscale"></mat-slider>
                <button class="mat-icon-button" (click)="resetGrayscale()"><mat-icon>loop</mat-icon></button>
              </div>
            </div>
          </div>
          <div fxFlex="33%">
            <div fxLayout="column" fxLayoutGap="1em" fxLayoutAlign="start start">
              <div class="mat-subheading-2">Dithering</div>
              <div>
                <mat-checkbox [(ngModel)]="project.dithering" name="dithering" (change)="callback()">Enable
                </mat-checkbox>
              </div>
            </div>
          </div>
          <div fxFlex="33%">
            <div fxLayout="column" fxLayoutGap="1em" fxLayoutAlign="start start">
              <div class="mat-subheading-2">Color Matching</div>
              <div>
                <mat-form-field>
                  <mat-select aria-label="matching" [(ngModel)]="project.matching" name="matching"
                    (selectionChange)="callback()">
                    <mat-option *ngFor="let matching of availableMatchings" [value]="matching">
                      {{matching.name}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
            </div>
          </div>


          <!-- <div fxLayout="column" fxLayoutGap="1em">
            <div class="mat-subheading-2">Image</div>
            <div flexLayout="row" fxLayoutGap="1em" fxLayoutAlign="start center">
              <span flex="10%" class="mat-small">Brightness</span>
              <mat-slider (change)="setBrightness($event)" min="0" max="200" step="1" value="100"></mat-slider>
            </div>
            <div flexLayout="row" fxLayoutGap="1em" fxLayoutAlign="start center">
              <span flex="10%" class="mat-small">Contrast</span>
              <mat-slider (change)="setContrast($event)" min="0" max="200" step="1" value="100"></mat-slider>
            </div>
            <div flexLayout="row" fxLayoutGap="1em" fxLayoutAlign="start center">
              <span flex="10%" class="mat-small">Saturation</span>
              <mat-slider (change)="setSaturation($event)" min="0" max="200" step="1" value="100"></mat-slider>
            </div>
            <div flexLayout="row" fxLayoutGap="1em" fxLayoutAlign="start center">
              <span flex="10%" class="mat-small">Grayscale</span>
              <mat-slider (change)="setGrayscale($event)" min="0" max="100" step="1" value="0"></mat-slider>
            </div>
            <div class="mat-subheading-2">Color Matching</div>
            <div>
              <mat-form-field>
                <mat-select aria-label="matching" [(ngModel)]="project.matching" name="matching"
                  (selectionChange)="callback()">
                  <mat-option *ngFor="let matching of availableMatchings" [value]="matching">
                    {{matching.name}}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <div class="mat-subheading-2">Dithering</div>
            <div>
              <mat-checkbox [(ngModel)]="project.dithering" name="dithering" (change)="callback()">Enable
              </mat-checkbox>
            </div>
          </div> -->
        </div>
      </form>
    </div>
  </mat-tab>
</mat-tab-group>
