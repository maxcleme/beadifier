<mat-tab-group dynamicHeight [selectedIndex]="0">
    <mat-tab label="Configuration">
        <div class="example-small-box mat-elevation-z4">
            <form (submit)="preventSubmit($event)">
                <div
                    style="padding: 1em"
                    data-layout="row"
                    data-layout-align="space-between wrap"
                >
                    <div
                        data-layout="column"
                        data-layout-gap="1em"
                        data-flex-xs="100"
                        data-flex-sm="100"
                        data-flex-md="33"
                        data-flex-lg="33"
                        data-flex-xl="33"
                    >
                        <div>
                            <app-upload-image-button
                                (loadImage)="onLoadingImageCallback($event)"
                            ></app-upload-image-button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </mat-tab>

    <mat-tab label="Boards" [disabled]="!project.image">
        <div class="example-large-box mat-elevation-z4">
            <form (submit)="preventSubmit($event)">
                <div
                    style="padding: 1em"
                    data-layout="row wrap"
                    data-layout-align="space-between start"
                >
                    <app-board-configuration
                        [configuration]="project.boardConfiguration"
                        [srcWidth]="project.srcWidth ?? 0"
                        [srcHeight]="project.srcHeight ?? 0"
                        (configurationChange)="callback()"
                    >
                    </app-board-configuration>
                </div>
            </form>
        </div>
    </mat-tab>

    <mat-tab label="Palettes" [disabled]="!project.image">
        <div class="example-large-box mat-elevation-z4">
            <form (submit)="preventSubmit($event)">
                <div
                    style="padding: 1em"
                    data-layout="row wrap"
                    data-layout-align="space-between start"
                >
                    <app-palette-configuration
                        [configuration]="project.paletteConfiguration"
                        (configurationChange)="callback()"
                    >
                    </app-palette-configuration>
                </div>
            </form>
        </div>
    </mat-tab>

    <mat-tab label="Advanced" [disabled]="!project.image">
        <div class="example-large-box mat-elevation-z4">
            <form (submit)="preventSubmit($event)">
                <div
                    style="padding: 1em"
                    data-layout="row wrap"
                    data-layout-align="space-between start"
                >
                    <div
                        data-flex-xs="100"
                        data-flex-sm="100"
                        data-flex-md="50"
                        data-flex-lg="33"
                        data-flex-xl="25"
                    >
                        <app-image-configuration
                            [configuration]="project.imageConfiguration"
                            (configurationChange)="callback()"
                        >
                        </app-image-configuration>
                    </div>
                    <div
                        data-flex-xs="100"
                        data-flex-sm="100"
                        data-flex-md="50"
                        data-flex-lg="33"
                        data-flex-xl="25"
                    >
                        <app-dithering-configuration
                            [configuration]="project.ditheringConfiguration"
                            (configurationChange)="callback()"
                        >
                        </app-dithering-configuration>
                    </div>
                    <div
                        data-flex-xs="100"
                        data-flex-sm="100"
                        data-flex-md="50"
                        data-flex-lg="33"
                        data-flex-xl="25"
                    >
                        <app-matching-configuration
                            [configuration]="project.matchingConfiguration"
                            (configurationChange)="callback()"
                        >
                        </app-matching-configuration>
                    </div>
                    <div
                        data-flex-xs="100"
                        data-flex-sm="100"
                        data-flex-md="50"
                        data-flex-lg="33"
                        data-flex-xl="25"
                    >
                        <app-renderer-configuration
                            [configuration]="project.rendererConfiguration"
                            (configurationChange)="callback()"
                        >
                        </app-renderer-configuration>
                    </div>
                </div>
            </form>
        </div>
    </mat-tab>

    <mat-tab label="Usage" [disabled]="!project.image">
        <div class="example-large-box mat-elevation-z4">
            <form (submit)="preventSubmit($event)">
                <div
                    style="padding: 1em"
                    data-layout="row wrap"
                    data-layout-align="space-between start"
                >
                    <app-bead-usage
                        [usage]="usage"
                        [palettes]="project.paletteConfiguration.palettes"
                        (paletteChange)="callback()"
                    ></app-bead-usage>
                </div>
            </form>
        </div>
    </mat-tab>

    <mat-tab label="Save & Export" [disabled]="!project.image">
        <div class="example-large-box mat-elevation-z4">
            <form (submit)="preventSubmit($event)">
                <div style="padding: 1em">
                    <app-export
                        *ngIf="project.image"
                        [project]="project"
                        [usage]="usage"
                        [reducedColor]="reducedColor"
                        [configuration]="project.exportConfiguration"
                    ></app-export>
                </div>
            </form>
        </div>
    </mat-tab>
</mat-tab-group>
